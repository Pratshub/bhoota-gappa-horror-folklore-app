<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#080510">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Bhoota Gappa">
<link rel="manifest" href="manifest.json">
<title>Bhoota Gappa â€” à¤­à¥‚à¤¤ à¤—à¤ªà¥à¤ª</title>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WWMB0P9WGP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WWMB0P9WGP');
  // Helper: fire a GA event
  function gaEvent(name, params){
    if(typeof gtag !== 'undefined') gtag('event', name, params || {});
  }
</script>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Pro:ital,wght@0,300;0,400;1,300;1,400&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
<style>
  :root {
    --blood: #8B0000;
    --bone: #E8D5B7;
    --shadow: #080510;
    --gold: #b5843a;
    --smoke: #12091a;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--shadow);
    color: var(--bone);
    font-family: 'Crimson Pro', serif;
    min-height: 100vh;
    overflow-x: hidden;
  }
  body::before {
    content:''; position:fixed; inset:0; pointer-events:none; z-index:0;
    background:
      radial-gradient(ellipse at 20% 50%, rgba(139,0,0,0.1) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(75,0,130,0.12) 0%, transparent 50%),
      radial-gradient(ellipse at 55% 85%, rgba(139,0,0,0.07) 0%, transparent 40%);
    animation: haunt 9s ease-in-out infinite alternate;
  }
  @keyframes haunt { 0%{opacity:.5;transform:scale(1)} 100%{opacity:1;transform:scale(1.04)} }

  .container { position:relative; z-index:2; max-width:480px; margin:0 auto; padding:0 20px 100px; }

  /* â”€â”€â”€ HEADER â”€â”€â”€ */
  header { text-align:center; padding:40px 0 16px; }
  .eye { font-size:26px; display:block; animation:blink 5s ease-in-out infinite; filter:drop-shadow(0 0 8px var(--blood)); }
  @keyframes blink { 0%,88%,100%{transform:scaleY(1)} 93%{transform:scaleY(0.08)} }
  .app-title {
    font-family:'UnifrakturMaguntia',cursive;
    font-size:clamp(40px,11vw,56px);
    color:var(--blood);
    text-shadow:0 0 20px rgba(139,0,0,.6),0 0 40px rgba(139,0,0,.3),2px 2px 0 #000;
    line-height:1; letter-spacing:2px; margin:8px 0 4px;
  }
  .app-sub { font-family:'Cinzel Decorative',serif; font-size:10px; letter-spacing:6px; color:var(--gold); opacity:.8; }
  .tagline { font-style:italic; font-size:13px; color:rgba(232,213,183,.45); margin-top:9px; }

  .divider { display:flex; align-items:center; gap:12px; margin:18px 0; }
  .divider::before,.divider::after { content:''; flex:1; height:1px; background:linear-gradient(90deg,transparent,var(--blood),transparent); }
  .div-icon { color:var(--blood); font-size:15px; }

  /* â”€â”€â”€ UPLOAD â”€â”€â”€ */
  .upload-zone {
    border:1px solid rgba(139,0,0,.4); border-radius:4px; padding:34px 20px;
    text-align:center; cursor:pointer; transition:all .3s;
    background:rgba(139,0,0,.03); position:relative; overflow:hidden;
  }
  .upload-zone::before { content:''; position:absolute; inset:0; background:linear-gradient(135deg,rgba(139,0,0,.05) 0%,transparent 50%,rgba(80,0,130,.05) 100%); opacity:0; transition:opacity .3s; }
  .upload-zone:hover::before,.upload-zone.drag::before { opacity:1; }
  .upload-zone.drag { border-color:var(--blood); transform:scale(1.01); }
  #fileInput { display:none; }
  .up-icon { font-size:50px; display:block; margin-bottom:12px; filter:drop-shadow(0 0 10px rgba(139,0,0,.4)); animation:float 3s ease-in-out infinite; }
  @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
  .up-txt { font-family:'Cinzel Decorative',serif; font-size:13px; letter-spacing:2px; margin-bottom:7px; }
  .up-sub { font-size:12px; color:rgba(232,213,183,.38); font-style:italic; }

  /* â”€â”€â”€ PREVIEW â”€â”€â”€ */
  #preview-section { display:none; }
  .preview-frame { position:relative; border:1px solid rgba(139,0,0,.3); border-radius:4px; overflow:hidden; }
  .preview-frame::before { content:''; position:absolute; inset:0; background:linear-gradient(to bottom,transparent 60%,rgba(8,5,16,.9) 100%); z-index:1; pointer-events:none; }
  #previewImg { width:100%; max-height:290px; object-fit:cover; display:block; filter:sepia(.3) contrast(1.1) saturate(.8); transition:filter 1s; }
  #previewImg.haunted { filter:sepia(.6) contrast(1.3) saturate(.35) hue-rotate(320deg) brightness(.7); animation:flicker .12s steps(1) 5; }
  @keyframes flicker { 0%,100%{opacity:1} 50%{opacity:.65} }
  .summon-btn {
    width:100%; padding:17px;
    background:linear-gradient(135deg,#3d0000,#8B0000);
    border:1px solid rgba(139,0,0,.65); color:var(--bone);
    font-family:'Cinzel Decorative',serif; font-size:14px; letter-spacing:3px;
    cursor:pointer; margin-top:14px; border-radius:2px; transition:all .3s;
  }
  .summon-btn:hover { background:linear-gradient(135deg,#5a0000,#a30000); box-shadow:0 0 22px rgba(139,0,0,.4); transform:translateY(-1px); }

  /* â”€â”€â”€ LOADING â”€â”€â”€ */
  #loading-section { display:none; text-align:center; padding:38px 0; }
  .ritual-loader { display:inline-block; width:78px; height:78px; position:relative; margin-bottom:18px; }
  .ritual-loader::before { content:'â˜½'; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:58px; color:var(--blood); filter:drop-shadow(0 0 10px var(--blood)); animation:spin 3s linear infinite; }
  .ritual-loader::after { content:'âœ¦'; position:absolute; top:50%; left:50%; font-size:19px; color:var(--gold); animation:pulsexy 1s ease-in-out infinite; }
  @keyframes spin { from{transform:translate(-50%,-50%) rotate(0deg)} to{transform:translate(-50%,-50%) rotate(360deg)} }
  @keyframes pulsexy { 0%,100%{transform:translate(-50%,-50%) scale(1);opacity:.5} 50%{transform:translate(-50%,-50%) scale(1.3);opacity:1} }
  .load-head { font-family:'Cinzel Decorative',serif; font-size:11px; letter-spacing:3px; color:rgba(232,213,183,.55); animation:breathe 2s ease-in-out infinite; margin-bottom:22px; }
  @keyframes breathe { 0%,100%{opacity:.35} 50%{opacity:1} }
  .steps { text-align:left; max-width:280px; margin:0 auto; }
  .step { display:flex; align-items:center; gap:10px; padding:6px 0; font-size:12px; color:rgba(232,213,183,.22); transition:color .5s; }
  .step.active { color:var(--gold); }
  .step.done { color:rgba(139,0,0,.5); }
  .dot { width:6px; height:6px; border-radius:50%; background:rgba(232,213,183,.1); flex-shrink:0; transition:all .5s; }
  .step.active .dot { background:var(--gold); box-shadow:0 0 6px var(--gold); animation:pd 1s ease-in-out infinite; }
  .step.done .dot { background:var(--blood); }
  @keyframes pd { 0%,100%{opacity:.5} 50%{opacity:1} }

  /* â”€â”€â”€ RESULT â”€â”€â”€ */
  #result-section { display:none; }

  /* â”€â”€â”€ CREATURE SVG PANEL â”€â”€â”€ */
  .creature-panel {
    position:relative; border:1px solid rgba(139,0,0,.45);
    border-radius:4px; overflow:hidden; margin-bottom:4px;
    background:var(--smoke);
  }
  .creature-panel svg { display:block; width:100%; }
  .panel-name-overlay {
    position:absolute; bottom:18px; left:0; right:0; text-align:center; padding:0 16px;
    pointer-events:none;
  }
  .panel-creature-name {
    font-family:'UnifrakturMaguntia',cursive;
    font-size:clamp(28px,8vw,40px); color:var(--bone);
    text-shadow:0 0 30px rgba(139,0,0,.9),0 2px 18px #000,0 0 60px rgba(139,0,0,.4);
    line-height:1;
  }
  .panel-origin { font-family:'Cinzel Decorative',serif; font-size:9px; letter-spacing:4px; color:var(--gold); opacity:.8; margin-top:4px; }
  .justutter-credit { font-family:'Cinzel Decorative',serif; font-size:8px; letter-spacing:2px; color:rgba(232,213,183,.25); margin-top:3px; }

  /* â”€â”€â”€ LORE CARD â”€â”€â”€ */
  .creature-card {
    border:1px solid rgba(139,0,0,.28);
    background:linear-gradient(160deg,rgba(26,15,31,.92) 0%,rgba(8,5,16,.96) 100%);
    border-radius:4px; overflow:hidden; position:relative;
  }
  .creature-card::before { content:''; position:absolute; top:0;left:0;right:0; height:2px; background:linear-gradient(90deg,transparent,var(--blood),var(--gold),var(--blood),transparent); }
  .card-header { padding:18px 18px 0; display:flex; align-items:flex-start; gap:13px; }
  .c-sigil { width:52px; height:52px; flex-shrink:0; background:radial-gradient(circle,rgba(139,0,0,.3) 0%,rgba(139,0,0,.1) 70%,transparent 100%); border:1px solid rgba(139,0,0,.4); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:22px; animation:sglow 3s ease-in-out infinite; }
  @keyframes sglow { 0%,100%{box-shadow:0 0 10px rgba(139,0,0,.3)} 50%{box-shadow:0 0 25px rgba(139,0,0,.6),0 0 50px rgba(139,0,0,.2)} }
  .c-name-block { flex:1; }
  .c-origin-lbl { font-size:9px; letter-spacing:4px; color:var(--gold); text-transform:uppercase; font-family:'Cinzel Decorative',serif; opacity:.7; margin-bottom:3px; }
  .c-name { font-family:'Cinzel Decorative',serif; font-size:clamp(16px,4.5vw,21px); color:var(--bone); text-shadow:0 0 20px rgba(139,0,0,.5); line-height:1.2; }
  .c-epithet { font-style:italic; font-size:13px; color:rgba(232,213,183,.48); margin-top:3px; }
  .card-body { padding:14px 18px 18px; }
  .stat-row { display:flex; gap:7px; margin-bottom:14px; flex-wrap:wrap; }
  .badge { padding:3px 9px; background:rgba(139,0,0,.14); border:1px solid rgba(139,0,0,.28); border-radius:2px; font-size:10px; letter-spacing:1px; color:rgba(232,213,183,.68); font-family:'Cinzel Decorative',serif; }
  .lore-sec { margin-bottom:14px; }
  .lore-lbl { font-size:9px; letter-spacing:4px; color:var(--gold); text-transform:uppercase; opacity:.58; margin-bottom:5px; font-family:'Cinzel Decorative',serif; }
  .lore-txt { font-size:14.5px; line-height:1.75; color:rgba(232,213,183,.83); font-style:italic; }
  .w-list { display:flex; flex-direction:column; gap:5px; }
  .w-item { display:flex; align-items:flex-start; gap:8px; font-size:13px; color:rgba(232,213,183,.68); }
  .w-item::before { content:'âœ¦'; color:var(--blood); font-size:8px; flex-shrink:0; margin-top:4px; }
  .card-footer { border-top:1px solid rgba(139,0,0,.18); padding:13px 18px; display:flex; gap:9px; }
  .act-btn { flex:1; padding:11px; border:1px solid rgba(139,0,0,.28); background:transparent; color:rgba(232,213,183,.55); font-family:'Cinzel Decorative',serif; font-size:10px; letter-spacing:2px; cursor:pointer; border-radius:2px; transition:all .3s; }
  .act-btn:hover { background:rgba(139,0,0,.14); color:var(--bone); border-color:rgba(139,0,0,.55); }

  /* â”€â”€â”€ PWA â”€â”€â”€ */
  .install-banner { position:fixed; bottom:0; left:0; right:0; background:linear-gradient(135deg,rgba(42,10,0,.97),rgba(26,15,31,.97)); border-top:1px solid rgba(139,0,0,.4); padding:14px 18px; display:flex; align-items:center; gap:11px; z-index:100; backdrop-filter:blur(10px); transform:translateY(100%); transition:transform .4s; }
  .install-banner.visible { transform:translateY(0); }
  .ib-icon { font-size:30px; flex-shrink:0; }
  .ib-text { flex:1; }
  .ib-title { font-family:'Cinzel Decorative',serif; font-size:12px; color:var(--bone); letter-spacing:1px; }
  .ib-sub { font-size:11px; color:rgba(232,213,183,.48); margin-top:2px; }
  .ib-btn { background:var(--blood); border:none; color:var(--bone); padding:9px 14px; font-family:'Cinzel Decorative',serif; font-size:11px; cursor:pointer; border-radius:2px; white-space:nowrap; }
  .ib-dis { background:none; border:none; color:rgba(232,213,183,.28); font-size:20px; cursor:pointer; padding:4px; }

  .ios-inst { display:none; background:rgba(42,10,0,.97); border:1px solid rgba(139,0,0,.4); border-radius:8px; padding:16px; text-align:center; position:fixed; bottom:20px; left:20px; right:20px; z-index:100; }
  .ios-inst.visible { display:block; }
  .ios-step { font-size:13px; margin:6px 0; color:rgba(232,213,183,.8); }

  .particle { position:fixed; border-radius:50%; pointer-events:none; z-index:0; animation:drift linear infinite; opacity:0; background:var(--blood); }
  @keyframes drift { 0%{transform:translateY(100vh);opacity:0} 10%{opacity:.6} 90%{opacity:.3} 100%{transform:translateY(-10vh) translateX(var(--dx));opacity:0} }
  .toast { position:fixed; top:20px; left:50%; transform:translateX(-50%) translateY(-100px); background:rgba(42,10,0,.95); border:1px solid rgba(139,0,0,.4); color:var(--bone); padding:11px 22px; border-radius:4px; font-family:'Cinzel Decorative',serif; font-size:11px; letter-spacing:2px; z-index:200; transition:transform .3s; }
  .toast.show { transform:translateX(-50%) translateY(0); }
  @media(max-width:360px){.card-header{flex-direction:column}.card-footer{flex-direction:column}}
</style>
</head>
<body>
<div id="particles"></div>
<div class="container">

  <header>
    <span class="eye">ğŸ‘</span>
    <h1 class="app-title">Bhoota Gappa</h1>
    <p class="app-sub">à¤­à¥‚à¤¤ à¤—à¤ªà¥à¤ª</p>
    <p class="tagline">Your face hides a creature withinâ€¦</p>
  </header>

  <div class="divider"><span class="div-icon">â˜½</span></div>

  <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
    <input type="file" id="fileInput" accept="image/*">
    <span class="up-icon">ğŸª¬</span>
    <p class="up-txt">Offer Your Image</p>
    <p class="up-sub">Take a photo or choose from gallery</p>
  </div>

  <div id="preview-section">
    <div class="divider"><span class="div-icon">â˜½</span></div>
    <div class="preview-frame"><img id="previewImg" src="" alt="Your offering"></div>
    <button class="summon-btn" onclick="summonCreature()">â‚ SUMMON THE BHOOTA â‚</button>
  </div>

  <div id="loading-section">
    <div class="divider"><span class="div-icon">â˜½</span></div>
    <div class="ritual-loader"></div>
    <p class="load-head">THE RITUAL BEGINS...</p>
    <div class="steps">
      <div class="step" id="s1"><div class="dot"></div>Consulting the ancient texts...</div>
      <div class="step" id="s2"><div class="dot"></div>Reading the darkness in your face...</div>
      <div class="step" id="s3"><div class="dot"></div>Manifesting the creature's true form...</div>
      <div class="step" id="s4"><div class="dot"></div>Sealing the ritual pact...</div>
    </div>
  </div>

  <div id="result-section">
    <div class="divider"><span class="div-icon">â˜½</span></div>
    <div class="creature-panel" id="creaturePanel">
      <div id="creatureSVGWrap"></div>
      <div class="panel-name-overlay">
        <p class="panel-creature-name" id="panelName"></p>
        <p class="panel-origin" id="panelOrigin"></p>
        <p class="justutter-credit">âœ¦ MIZO FOLKLORE â€” JUSTUTTER âœ¦</p>
      </div>
    </div>

    <div class="creature-card">
      <div class="card-header">
        <div class="c-sigil" id="cSigil">ğŸ‘</div>
        <div class="c-name-block">
          <p class="c-origin-lbl" id="cOriginLbl">â€”</p>
          <h2 class="c-name" id="cName">â€”</h2>
          <p class="c-epithet" id="cEpithet">â€”</p>
        </div>
      </div>
      <div class="card-body">
        <div class="stat-row" id="statRow"></div>
        <div class="lore-sec"><p class="lore-lbl">Ancient Lore</p><p class="lore-txt" id="loreTxt"></p></div>
        <div class="lore-sec"><p class="lore-lbl">Your Manifestation</p><p class="lore-txt" id="manifestTxt"></p></div>
        <div class="lore-sec"><p class="lore-lbl">Known Weaknesses</p><div class="w-list" id="wList"></div></div>
      </div>
      <div class="card-footer">
        <button class="act-btn" onclick="shareResult()">â¬† SHARE</button>
        <button class="act-btn" onclick="resetApp()">â†º NEW RITUAL</button>
      </div>
    </div>
  </div>

</div>

<div class="install-banner" id="installBanner">
  <span class="ib-icon">ğŸ“²</span>
  <div class="ib-text">
    <p class="ib-title">Install Bhoota Gappa</p>
    <p class="ib-sub">Add to home screen for full experience</p>
  </div>
  <button class="ib-btn" onclick="installApp()">INSTALL</button>
  <button class="ib-dis" onclick="dismissInstall()">âœ•</button>
</div>
<div class="ios-inst" id="iosInst">
  <p style="font-family:'Cinzel Decorative',serif;font-size:12px;color:var(--gold);margin-bottom:10px">INSTALL ON iPHONE</p>
  <p class="ios-step">1. Tap <strong>Share â†‘</strong> in Safari</p>
  <p class="ios-step">2. Tap <strong>"Add to Home Screen"</strong></p>
  <p class="ios-step">3. The creature awaits ğŸ‘</p>
  <button style="margin-top:12px;background:none;border:1px solid rgba(139,0,0,.4);color:rgba(232,213,183,.5);padding:8px 18px;font-family:'Cinzel Decorative',serif;font-size:10px;cursor:pointer;border-radius:2px" onclick="document.getElementById('iosInst').classList.remove('visible')">CLOSE</button>
</div>
<div class="toast" id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SVG ILLUSTRATIONS â€” one per creature, hand-crafted
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const SVGs = {

  // â”€â”€ KEIMI: dark figure with turban + tiger silhouette, glowing eyes â”€â”€
  keimi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <radialGradient id="kbg" cx="50%" cy="40%" r="65%">
      <stop offset="0%" stop-color="#0d1a12"/>
      <stop offset="100%" stop-color="#050a07"/>
    </radialGradient>
    <radialGradient id="keye" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#ffe066"/>
      <stop offset="60%" stop-color="#ffaa00"/>
      <stop offset="100%" stop-color="#ff6600" stop-opacity="0"/>
    </radialGradient>
    <filter id="kglow"><feGaussianBlur stdDeviation="3" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="kfog"><feGaussianBlur stdDeviation="8"/></filter>
  </defs>
  <!-- sky / forest bg -->
  <rect width="480" height="400" fill="url(#kbg)"/>
  <!-- fog layer -->
  <ellipse cx="240" cy="320" rx="280" ry="100" fill="#0a1a10" filter="url(#kfog)" opacity=".7"/>
  <!-- tree silhouettes -->
  <g fill="#061008" opacity=".9">
    <rect x="10" y="80" width="18" height="280"/>
    <rect x="5" y="60" width="28" height="30"/>
    <rect x="-5" y="40" width="40" height="30"/>
    <rect x="440" y="90" width="18" height="280"/>
    <rect x="435" y="70" width="28" height="30"/>
    <rect x="430" y="50" width="38" height="28"/>
    <rect x="380" y="120" width="14" height="260"/>
    <rect x="60" y="140" width="12" height="240"/>
  </g>
  <!-- branches -->
  <g stroke="#061008" stroke-width="4" fill="none" opacity=".8">
    <line x1="10" y1="100" x2="-20" y2="70"/><line x1="10" y1="130" x2="50" y2="100"/>
    <line x1="458" y1="110" x2="500" y2="80"/><line x1="458" y1="140" x2="420" y2="115"/>
  </g>
  <!-- TIGER silhouette (right, behind) -->
  <g transform="translate(290,180)" opacity=".85">
    <!-- body -->
    <ellipse cx="70" cy="90" rx="65" ry="40" fill="#1a0e06"/>
    <!-- head -->
    <ellipse cx="50" cy="60" rx="38" ry="30" fill="#1a0e06"/>
    <!-- ears -->
    <polygon points="28,38 18,15 40,32" fill="#1a0e06"/>
    <polygon points="68,35 78,12 60,30" fill="#1a0e06"/>
    <!-- stripes -->
    <g stroke="#120a04" stroke-width="3" fill="none">
      <line x1="35" y1="55" x2="25" y2="75"/><line x1="50" y1="52" x2="42" y2="74"/>
      <line x1="65" y1="55" x2="60" y2="75"/>
    </g>
    <!-- tiger glowing eyes -->
    <ellipse cx="36" cy="58" rx="7" ry="6" fill="url(#keye)" filter="url(#kglow)"/>
    <ellipse cx="60" cy="57" rx="7" ry="6" fill="url(#keye)" filter="url(#kglow)"/>
    <!-- pupils -->
    <ellipse cx="36" cy="58" rx="2" ry="4" fill="#000"/>
    <ellipse cx="60" cy="57" rx="2" ry="4" fill="#000"/>
    <!-- legs -->
    <rect x="30" y="120" width="14" height="40" rx="5" fill="#1a0e06"/>
    <rect x="55" y="118" width="14" height="42" rx="5" fill="#1a0e06"/>
    <rect x="90" y="115" width="14" height="38" rx="5" fill="#1a0e06"/>
    <rect x="110" y="118" width="14" height="36" rx="5" fill="#1a0e06"/>
    <!-- tail -->
    <path d="M135,100 Q170,70 165,40" stroke="#1a0e06" stroke-width="10" fill="none" stroke-linecap="round"/>
  </g>
  <!-- HUMAN FIGURE (centre-left) -->
  <g transform="translate(110,50)">
    <!-- robe/body -->
    <path d="M90,170 Q60,180 50,350 L140,350 Q130,180 100,170 Z" fill="#0e1a14"/>
    <!-- neck -->
    <rect x="87" y="150" width="26" height="25" rx="8" fill="#1a1208"/>
    <!-- head -->
    <ellipse cx="100" cy="130" rx="34" ry="38" fill="#1a1208"/>
    <!-- TURBAN -->
    <ellipse cx="100" cy="100" rx="42" ry="18" fill="#0d1008"/>
    <ellipse cx="100" cy="96" rx="40" ry="15" fill="#131810"/>
    <path d="M60,98 Q100,80 140,98" stroke="#0a0e08" stroke-width="6" fill="none"/>
    <ellipse cx="100" cy="92" rx="35" ry="12" fill="#0f1510"/>
    <!-- turban wrap lines -->
    <path d="M64,100 Q100,85 136,100" stroke="#1a2018" stroke-width="3" fill="none" opacity=".6"/>
    <path d="M68,106 Q100,93 132,106" stroke="#1a2018" stroke-width="2" fill="none" opacity=".5"/>
    <!-- GLOWING EYES -->
    <ellipse cx="88" cy="130" rx="9" ry="7" fill="url(#keye)" filter="url(#kglow)"/>
    <ellipse cx="113" cy="130" rx="9" ry="7" fill="url(#keye)" filter="url(#kglow)"/>
    <!-- pupils -->
    <ellipse cx="88" cy="130" rx="3" ry="5" fill="#000"/>
    <ellipse cx="113" cy="130" rx="3" ry="5" fill="#000"/>
    <!-- beard/face shadow -->
    <path d="M74,140 Q100,165 126,140" fill="#110e07" opacity=".7"/>
    <!-- scarf/wrap around neck -->
    <path d="M68,165 Q100,180 132,165 Q120,200 100,210 Q80,200 68,165Z" fill="#2a1008" opacity=".8"/>
    <!-- mala/beads -->
    <ellipse cx="100" cy="195" rx="22" ry="4" fill="none" stroke="#3a2810" stroke-width="3" stroke-dasharray="5,4"/>
  </g>
  <!-- ground mist -->
  <rect x="0" y="330" width="480" height="70" fill="url(#kbg)" opacity=".6"/>
  <!-- vignette -->
  <radialGradient id="kvig" cx="50%" cy="50%" r="70%"><stop offset="60%" stop-color="transparent"/><stop offset="100%" stop-color="#050a07"/></radialGradient>
  <rect width="480" height="400" fill="url(#kvig)"/>
  <!-- gradient overlay at bottom for text readability -->
  <linearGradient id="kbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#050a07"/></linearGradient>
  <rect y="200" width="480" height="200" fill="url(#kbot)"/>
</svg>`,

  // â”€â”€ PHUNG: massive ogre, mountain bg, ember eyes â”€â”€
  phung: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <linearGradient id="pbg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#2a2016"/>
      <stop offset="50%" stop-color="#1a1208"/>
      <stop offset="100%" stop-color="#0a0704"/>
    </linearGradient>
    <radialGradient id="peye" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#ff8800"/>
      <stop offset="50%" stop-color="#cc3300"/>
      <stop offset="100%" stop-color="#660000" stop-opacity="0"/>
    </radialGradient>
    <filter id="pglow"><feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="pblur"><feGaussianBlur stdDeviation="6"/></filter>
  </defs>
  <rect width="480" height="400" fill="url(#pbg)"/>
  <!-- cloudy sky -->
  <ellipse cx="240" cy="60" rx="300" ry="80" fill="#2e2518" opacity=".5" filter="url(#pblur)"/>
  <ellipse cx="100" cy="40" rx="150" ry="50" fill="#3a2e1c" opacity=".4" filter="url(#pblur)"/>
  <ellipse cx="380" cy="50" rx="130" ry="45" fill="#2e2518" opacity=".3" filter="url(#pblur)"/>
  <!-- mountain ridges -->
  <polygon points="0,250 80,120 200,200 280,100 380,180 480,130 480,400 0,400" fill="#0e0b06"/>
  <polygon points="0,280 60,180 150,230 250,150 350,210 480,160 480,400 0,400" fill="#0b0804"/>
  <!-- PHUNG body â€” massive -->
  <g transform="translate(90,20)">
    <!-- body bulk -->
    <path d="M80,200 Q20,220 10,380 L280,380 Q270,220 210,200 Z" fill="#2a1a0c"/>
    <!-- skin texture lines -->
    <g stroke="#1e1208" stroke-width="2" fill="none" opacity=".6">
      <path d="M80,220 Q90,260 85,300"/><path d="M200,225 Q195,265 200,305"/>
      <path d="M120,215 Q115,270 118,320"/><path d="M165,215 Q168,268 165,315"/>
    </g>
    <!-- arms -->
    <path d="M80,200 Q20,240 5,310 Q15,320 30,310 Q50,255 90,225 Z" fill="#2a1a0c"/>
    <path d="M210,200 Q280,240 295,310 Q280,320 265,310 Q245,255 200,225 Z" fill="#2a1a0c"/>
    <!-- hands / claws -->
    <g fill="#1e1208">
      <path d="M5,308 Q-5,325 5,335 Q18,330 22,315Z"/>
      <path d="M18,315 Q10,335 22,340 Q33,333 33,318Z"/>
      <path d="M30,310 Q25,332 36,338 Q45,328 43,313Z"/>
      <path d="M265,308 Q275,325 265,335 Q252,330 248,315Z"/>
      <path d="M252,315 Q260,335 248,340 Q237,333 237,318Z"/>
      <path d="M240,310 Q245,332 234,338 Q225,328 227,313Z"/>
    </g>
    <!-- neck -->
    <rect x="115" y="165" width="60" height="40" rx="10" fill="#2e1c0e"/>
    <!-- HEAD â€” massive, rough -->
    <ellipse cx="145" cy="110" rx="80" ry="75" fill="#2e1c0e"/>
    <!-- skull texture / wrinkles -->
    <g stroke="#1e1208" stroke-width="2" fill="none" opacity=".5">
      <path d="M90,90 Q100,80 110,90"/><path d="M170,88 Q180,78 190,88"/>
      <path d="M100,120 Q145,110 190,120"/>
    </g>
    <!-- brow ridge -->
    <path d="M70,95 Q145,75 220,95 Q210,115 145,110 Q80,115 70,95Z" fill="#261508"/>
    <!-- WILD HAIR -->
    <g fill="#1a0e04">
      <path d="M70,80 Q50,20 30,0 Q55,30 65,70Z"/>
      <path d="M85,65 Q75,10 95,0 Q90,30 88,60Z"/>
      <path d="M110,58 Q115,5 130,0 Q120,28 115,55Z"/>
      <path d="M160,58 Q165,5 150,0 Q160,28 158,55Z"/>
      <path d="M185,65 Q205,10 195,0 Q190,30 188,62Z"/>
      <path d="M205,75 Q230,20 250,5 Q225,35 215,72Z"/>
      <path d="M218,88 Q248,40 268,30 Q238,55 225,88Z"/>
      <path d="M60,95 Q30,60 10,55 Q38,72 62,100Z"/>
    </g>
    <!-- GLOWING EMBER EYES -->
    <ellipse cx="112" cy="110" rx="16" ry="13" fill="url(#peye)" filter="url(#pglow)"/>
    <ellipse cx="178" cy="110" rx="16" ry="13" fill="url(#peye)" filter="url(#pglow)"/>
    <!-- pupils -->
    <ellipse cx="112" cy="110" rx="5" ry="7" fill="#000"/>
    <ellipse cx="178" cy="110" rx="5" ry="7" fill="#000"/>
    <!-- nose -->
    <path d="M130,130 Q145,148 160,130 Q152,155 145,158 Q138,155 130,130Z" fill="#1e1208"/>
    <!-- mouth / fangs -->
    <path d="M100,155 Q145,175 190,155" stroke="#1e1208" stroke-width="3" fill="none"/>
    <g fill="#e8d5b7" opacity=".7">
      <polygon points="118,157 124,175 112,157"/>
      <polygon points="145,160 148,178 142,160"/>
      <polygon points="168,157 174,175 162,157"/>
    </g>
  </g>
  <!-- bottom gradient -->
  <linearGradient id="pbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#0a0704"/></linearGradient>
  <rect y="220" width="480" height="180" fill="url(#pbot)"/>
  <radialGradient id="pvig" cx="50%" cy="50%" r="70%"><stop offset="55%" stop-color="transparent"/><stop offset="100%" stop-color="#0a0704"/></radialGradient>
  <rect width="480" height="400" fill="url(#pvig)"/>
</svg>`,

  // â”€â”€ LASI: ethereal forest beauty, backwards feet, dark forest â”€â”€
  lasi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <linearGradient id="lbg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#050e0a"/>
      <stop offset="100%" stop-color="#020808"/>
    </linearGradient>
    <radialGradient id="lglow" cx="50%" cy="30%" r="50%">
      <stop offset="0%" stop-color="#1a2e18" stop-opacity=".6"/>
      <stop offset="100%" stop-color="transparent"/>
    </radialGradient>
    <filter id="lsoft"><feGaussianBlur stdDeviation="3"/></filter>
    <filter id="lgf"><feGaussianBlur stdDeviation="5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
  </defs>
  <rect width="480" height="400" fill="url(#lbg)"/>
  <rect width="480" height="400" fill="url(#lglow)"/>
  <!-- dark forest trees -->
  <g fill="#030c06" opacity=".95">
    <rect x="0" y="60" width="22" height="340"/><rect x="30" y="100" width="16" height="300"/>
    <rect x="420" y="70" width="22" height="330"/><rect x="440" y="110" width="16" height="290"/>
    <rect x="380" y="130" width="14" height="270"/><rect x="60" y="150" width="12" height="250"/>
    <rect x="400" y="80" width="10" height="320"/>
  </g>
  <!-- foliage -->
  <g fill="#04120a" opacity=".9">
    <ellipse cx="11" cy="60" rx="35" ry="25"/><ellipse cx="11" cy="85" rx="30" ry="20"/>
    <ellipse cx="38" cy="100" rx="28" ry="20"/><ellipse cx="38" cy="120" rx="24" ry="17"/>
    <ellipse cx="429" cy="70" rx="35" ry="25"/><ellipse cx="429" cy="95" rx="30" ry="20"/>
    <ellipse cx="448" cy="108" rx="26" ry="18"/><ellipse cx="389" cy="130" rx="25" ry="18"/>
    <ellipse cx="66" cy="148" rx="22" ry="16"/>
  </g>
  <!-- undergrowth -->
  <g fill="#030e07" opacity=".8">
    <path d="M0,300 Q40,270 80,295 Q60,310 0,315Z"/>
    <path d="M380,295 Q420,268 480,290 Q460,308 380,310Z"/>
    <path d="M100,320 Q140,300 180,318 Q160,330 100,335Z"/>
  </g>
  <!-- moonlight shaft -->
  <linearGradient id="lmoon" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#c8e8c0" stop-opacity=".15"/><stop offset="100%" stop-color="transparent"/></linearGradient>
  <ellipse cx="240" cy="0" rx="80" ry="200" fill="url(#lmoon)"/>
  <!-- LASI figure -->
  <g transform="translate(155,30)">
    <!-- DRESS â€” deep crimson -->
    <path d="M85,185 Q50,200 35,380 L155,380 Q140,200 105,185 Z" fill="#5a0e0e"/>
    <!-- dress folds/shading -->
    <path d="M85,185 Q75,220 70,280 Q60,300 50,380 L80,380 Q85,280 88,210Z" fill="#3d0a0a" opacity=".6"/>
    <path d="M105,185 Q115,220 120,280 Q130,300 140,380 L110,380 Q105,280 102,210Z" fill="#3d0a0a" opacity=".6"/>
    <!-- dress hem ruffle -->
    <path d="M35,360 Q95,350 155,360 Q145,380 35,380Z" fill="#6a1212"/>
    <!-- sleeves / arms -->
    <path d="M85,185 Q50,195 30,240 Q40,250 55,240 Q70,210 88,200Z" fill="#5a0e0e"/>
    <path d="M105,185 Q140,195 160,240 Q150,250 135,240 Q120,210 102,200Z" fill="#5a0e0e"/>
    <!-- SKIN neck/chest area -->
    <path d="M82,180 Q95,190 108,180 Q105,170 95,168 Q85,170 82,180Z" fill="#c8b89a"/>
    <!-- HEAD -->
    <ellipse cx="95" cy="120" rx="38" ry="42" fill="#c0aa88"/>
    <!-- face shading -->
    <ellipse cx="95" cy="130" rx="30" ry="32" fill="#b09878" opacity=".3"/>
    <!-- POINTED EARS -->
    <path d="M57,105 Q42,88 48,72 Q58,84 62,100Z" fill="#c0aa88"/>
    <path d="M133,105 Q148,88 142,72 Q132,84 128,100Z" fill="#c0aa88"/>
    <!-- HAIR â€” long black flowing -->
    <path d="M58,100 Q30,130 20,200 Q35,195 50,160 Q58,130 62,110Z" fill="#0d0808"/>
    <path d="M132,100 Q160,130 170,200 Q155,195 140,160 Q132,130 128,110Z" fill="#0d0808"/>
    <ellipse cx="95" cy="90" rx="42" ry="22" fill="#0d0808"/>
    <path d="M58,90 Q40,110 25,180" stroke="#0d0808" stroke-width="18" fill="none" stroke-linecap="round"/>
    <path d="M132,90 Q150,110 165,180" stroke="#0d0808" stroke-width="18" fill="none" stroke-linecap="round"/>
    <!-- face features -->
    <!-- eyebrows -->
    <path d="M76,108 Q84,103 92,107" stroke="#2a1a0e" stroke-width="2" fill="none"/>
    <path d="M98,107 Q106,103 114,108" stroke="#2a1a0e" stroke-width="2" fill="none"/>
    <!-- eyes â€” dark, slightly unsettling -->
    <ellipse cx="84" cy="116" rx="7" ry="5" fill="#1a0e08"/>
    <ellipse cx="107" cy="116" rx="7" ry="5" fill="#1a0e08"/>
    <ellipse cx="84" cy="115" rx="4" ry="4" fill="#0a0605"/>
    <ellipse cx="107" cy="115" rx="4" ry="4" fill="#0a0605"/>
    <!-- subtle eye glint -->
    <ellipse cx="82" cy="113" rx="2" ry="1.5" fill="#fff" opacity=".4"/>
    <ellipse cx="105" cy="113" rx="2" ry="1.5" fill="#fff" opacity=".4"/>
    <!-- nose -->
    <path d="M91,126 Q95,132 99,126" stroke="#8a7258" stroke-width="1.5" fill="none"/>
    <!-- lips â€” red -->
    <path d="M82,138 Q95,145 108,138" fill="#8a1a1a"/>
    <path d="M82,138 Q95,142 108,138 Q95,146 82,138Z" fill="#aa2222"/>
    <!-- BACKWARDS FEET â€” key detail! feet point backward -->
    <!-- left leg -->
    <rect x="68" y="355" width="18" height="30" rx="6" fill="#b8a888"/>
    <!-- foot pointing BACKWARDS (right instead of left) -->
    <path d="M68,375 Q85,370 98,375 Q95,385 68,385Z" fill="#b8a888"/>
    <!-- right leg -->
    <rect x="104" y="355" width="18" height="30" rx="6" fill="#b8a888"/>
    <!-- foot pointing BACKWARDS -->
    <path d="M122,375 Q105,370 92,375 Q95,385 122,385Z" fill="#b8a888"/>
    <!-- subtle glow around figure (ethereal) -->
    <ellipse cx="95" cy="220" rx="80" ry="150" fill="#1a3a14" opacity=".08" filter="url(#lsoft)"/>
  </g>
  <!-- fireflies / will-o-wisps -->
  <g fill="#88ff88" opacity=".5">
    <circle cx="60" cy="200" r="2" filter="url(#lgf)"/>
    <circle cx="420" cy="170" r="2" filter="url(#lgf)"/>
    <circle cx="350" cy="250" r="1.5" filter="url(#lgf)"/>
    <circle cx="90" cy="280" r="1.5" filter="url(#lgf)"/>
  </g>
  <!-- bottom gradient -->
  <linearGradient id="lbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#020808"/></linearGradient>
  <rect y="230" width="480" height="170" fill="url(#lbot)"/>
  <radialGradient id="lvig" cx="50%" cy="50%" r="70%"><stop offset="55%" stop-color="transparent"/><stop offset="100%" stop-color="#020808"/></radialGradient>
  <rect width="480" height="400" fill="url(#lvig)"/>
</svg>`,

  // â”€â”€ RULPUI: feathered serpent coiling over stormy lake â”€â”€
  rulpui: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <linearGradient id="rbg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0a1a22"/>
      <stop offset="60%" stop-color="#082030"/>
      <stop offset="100%" stop-color="#051218"/>
    </linearGradient>
    <radialGradient id="rscale" cx="50%" cy="50%" r="60%">
      <stop offset="0%" stop-color="#1a8a88"/>
      <stop offset="60%" stop-color="#0d5a60"/>
      <stop offset="100%" stop-color="#083840"/>
    </radialGradient>
    <linearGradient id="rfeather" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#cc3300"/>
      <stop offset="50%" stop-color="#ff6600"/>
      <stop offset="100%" stop-color="#ff9900"/>
    </linearGradient>
    <filter id="rblur"><feGaussianBlur stdDeviation="5"/></filter>
    <filter id="rglow"><feGaussianBlur stdDeviation="6" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="rrain"><feGaussianBlur stdDeviation="1"/></filter>
  </defs>
  <rect width="480" height="400" fill="url(#rbg)"/>
  <!-- storm clouds -->
  <g filter="url(#rblur)">
    <ellipse cx="120" cy="50" rx="160" ry="55" fill="#1a2a3a" opacity=".8"/>
    <ellipse cx="340" cy="40" rx="180" ry="50" fill="#152030" opacity=".7"/>
    <ellipse cx="240" cy="70" rx="200" ry="45" fill="#1e2e3e" opacity=".6"/>
    <ellipse cx="60" cy="30" rx="100" ry="40" fill="#182838" opacity=".5"/>
  </g>
  <!-- lightning hint -->
  <polyline points="320,20 308,60 318,60 300,110" stroke="#aaddff" stroke-width="1.5" fill="none" opacity=".3"/>
  <!-- mountains -->
  <polygon points="0,280 80,180 160,250 240,160 320,230 400,170 480,220 480,400 0,400" fill="#081520" opacity=".9"/>
  <polygon points="0,310 60,240 140,280 220,210 310,260 400,200 480,240 480,400 0,400" fill="#061018"/>
  <!-- LAKE -->
  <ellipse cx="240" cy="370" rx="320" ry="60" fill="#062030"/>
  <ellipse cx="240" cy="365" rx="280" ry="40" fill="#082840" opacity=".8"/>
  <!-- lake shimmer lines -->
  <g stroke="#1a5060" stroke-width="1" opacity=".4">
    <line x1="80" y1="360" x2="160" y2="358"/><line x1="200" y1="368" x2="300" y2="366"/>
    <line x1="330" y1="355" x2="400" y2="357"/>
  </g>
  <!-- village silhouette -->
  <g fill="#040e14" opacity=".9">
    <rect x="30" y="330" width="40" height="40"/><polygon points="30,330 50,308 70,330"/>
    <rect x="85" y="338" width="35" height="32"/><polygon points="85,338 102,318 120,338"/>
    <rect x="370" y="332" width="38" height="38"/><polygon points="370,332 389,310 408,332"/>
    <rect x="420" y="340" width="32" height="30"/><polygon points="420,340 436,322 452,340"/>
  </g>
  <!-- RAIN -->
  <g stroke="#3a7090" stroke-width="1" opacity=".35" filter="url(#rrain)">
    <line x1="50" y1="0" x2="40" y2="80"/><line x1="120" y1="10" x2="110" y2="90"/>
    <line x1="200" y1="5" x2="190" y2="85"/><line x1="280" y1="0" x2="270" y2="80"/>
    <line x1="360" y1="8" x2="350" y2="88"/><line x1="440" y1="2" x2="430" y2="82"/>
    <line x1="85" y1="80" x2="75" y2="160"/><line x1="165" y1="90" x2="155" y2="170"/>
    <line x1="310" y1="85" x2="300" y2="165"/><line x1="410" y1="78" x2="400" y2="158"/>
  </g>
  <!-- RULPUI SERPENT BODY â€” coiling S shape -->
  <!-- main body tube -->
  <path d="M350,20 Q420,80 380,160 Q340,240 240,200 Q140,160 160,80 Q180,20 260,50 Q320,70 300,130 Q280,180 220,170" 
        stroke="#0d6a6a" stroke-width="44" fill="none" stroke-linecap="round"/>
  <!-- scale overlay (teal) -->
  <path d="M350,20 Q420,80 380,160 Q340,240 240,200 Q140,160 160,80 Q180,20 260,50 Q320,70 300,130 Q280,180 220,170" 
        stroke="url(#rscale)" stroke-width="40" fill="none" stroke-linecap="round" opacity=".9"/>
  <!-- scale shine -->
  <path d="M350,20 Q420,80 380,160 Q340,240 240,200 Q140,160 160,80 Q180,20 260,50 Q320,70 300,130 Q280,180 220,170" 
        stroke="#2aaaaa" stroke-width="8" fill="none" stroke-linecap="round" opacity=".3"/>
  <!-- scale pattern marks -->
  <g stroke="#0a5555" stroke-width="1.5" opacity=".5">
    <path d="M370,45 Q375,50 370,55"/><path d="M390,75 Q396,80 390,86"/>
    <path d="M395,110 Q400,116 394,122"/><path d="M375,148 Q380,154 374,160"/>
    <path d="M310,190 Q316,195 310,201"/><path d="M260,205 Q266,210 260,216"/>
    <path d="M205,185 Q210,190 205,196"/><path d="M175,140 Q180,146 174,152"/>
    <path d="M170,95 Q175,100 170,106"/><path d="M200,58 Q205,63 200,69"/>
  </g>
  <!-- RED FEATHERS at head/crest -->
  <g transform="translate(330,10)" fill="url(#rfeather)" opacity=".9">
    <path d="M20,10 Q-10,-15 -5,5 Q5,20 20,10Z"/>
    <path d="M28,8 Q5,-20 8,2 Q15,18 28,8Z"/>
    <path d="M35,12 Q20,-18 18,4 Q22,20 35,12Z"/>
    <path d="M40,18 Q32,-15 26,5 Q28,22 40,18Z"/>
    <path d="M12,14 Q-15,-8 -8,8 Q4,22 12,14Z"/>
    <path d="M5,20 Q-18,2 -12,16 Q0,26 5,20Z"/>
  </g>
  <!-- HEAD -->
  <ellipse cx="345" cy="38" rx="32" ry="20" fill="#0d6a6a"/>
  <ellipse cx="345" cy="38" rx="28" ry="17" fill="url(#rscale)"/>
  <!-- head shine -->
  <ellipse cx="338" cy="32" rx="12" ry="7" fill="#2aaaaa" opacity=".25"/>
  <!-- EYES â€” amber/orange -->
  <ellipse cx="332" cy="36" rx="8" ry="7" fill="#cc6600" filter="url(#rglow)"/>
  <ellipse cx="358" cy="36" rx="8" ry="7" fill="#cc6600" filter="url(#rglow)"/>
  <ellipse cx="332" cy="36" rx="3" ry="5" fill="#000"/>
  <ellipse cx="358" cy="36" rx="3" ry="5" fill="#000"/>
  <!-- forked tongue -->
  <path d="M360,44 Q375,52 372,58" stroke="#cc0000" stroke-width="2.5" fill="none"/>
  <path d="M360,44 Q375,52 380,56" stroke="#cc0000" stroke-width="2.5" fill="none"/>
  <!-- shimmer glow around serpent -->
  <path d="M350,20 Q420,80 380,160 Q340,240 240,200 Q140,160 160,80 Q180,20 260,50 Q320,70 300,130 Q280,180 220,170" 
        stroke="#00cccc" stroke-width="50" fill="none" opacity=".04" filter="url(#rblur)"/>
  <!-- bottom gradient -->
  <linearGradient id="rbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#051218"/></linearGradient>
  <rect y="260" width="480" height="140" fill="url(#rbot)"/>
  <radialGradient id="rvig" cx="50%" cy="50%" r="70%"><stop offset="55%" stop-color="transparent"/><stop offset="100%" stop-color="#051218"/></radialGradient>
  <rect width="480" height="400" fill="url(#rvig)"/>
</svg>`,

  // â”€â”€ VAN CHUNG NULA: sky maidens, wings, weeping, stormy sky â”€â”€
  vanchungnula: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <linearGradient id="vbg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0e1a2a"/>
      <stop offset="50%" stop-color="#182838"/>
      <stop offset="100%" stop-color="#080e18"/>
    </linearGradient>
    <radialGradient id="vglow" cx="50%" cy="30%" r="50%">
      <stop offset="0%" stop-color="#2a4060" stop-opacity=".4"/>
      <stop offset="100%" stop-color="transparent"/>
    </radialGradient>
    <filter id="vsoft"><feGaussianBlur stdDeviation="4"/></filter>
    <filter id="vgf"><feGaussianBlur stdDeviation="5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="vhalo"><feGaussianBlur stdDeviation="8" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
  </defs>
  <rect width="480" height="400" fill="url(#vbg)"/>
  <rect width="480" height="400" fill="url(#vglow)"/>
  <!-- cloud layers -->
  <g filter="url(#vsoft)" opacity=".5">
    <ellipse cx="240" cy="60" rx="300" ry="60" fill="#2a3a50"/>
    <ellipse cx="100" cy="40" rx="160" ry="45" fill="#223040"/>
    <ellipse cx="380" cy="50" rx="140" ry="40" fill="#1e2c42"/>
  </g>
  <!-- rain drops -->
  <g fill="#6090b0" opacity=".3">
    <ellipse cx="80" cy="80" rx="1" ry="8"/><ellipse cx="130" cy="120" rx="1" ry="8"/>
    <ellipse cx="200" cy="90" rx="1" ry="8"/><ellipse cx="290" cy="100" rx="1" ry="8"/>
    <ellipse cx="370" cy="75" rx="1" ry="8"/><ellipse cx="440" cy="110" rx="1" ry="8"/>
    <ellipse cx="50" cy="160" rx="1" ry="8"/><ellipse cx="160" cy="180" rx="1" ry="8"/>
    <ellipse cx="320" cy="155" rx="1" ry="8"/><ellipse cx="420" cy="170" rx="1" ry="8"/>
  </g>
  <!-- MAIDEN 1 â€” left, sleeping/descending -->
  <g transform="translate(40,80) rotate(-15,100,150)">
    <!-- wing left -->
    <path d="M80,150 Q20,100 10,50 Q40,80 60,130 Q70,140 80,150Z" fill="#d0c8a8" opacity=".6"/>
    <path d="M80,150 Q0,130 -10,80 Q25,110 60,140Z" fill="#b8b098" opacity=".5"/>
    <!-- body/robe -->
    <path d="M70,145 Q55,160 50,230 L100,230 Q95,160 80,145Z" fill="#ccc4a0" opacity=".7"/>
    <!-- head -->
    <ellipse cx="75" cy="120" rx="25" ry="28" fill="#c8b890" opacity=".8"/>
    <!-- hair flowing -->
    <path d="M55,115 Q35,140 25,200" stroke="#7a5a30" stroke-width="14" fill="none" stroke-linecap="round" opacity=".8"/>
    <path d="M95,115 Q105,140 110,185" stroke="#8a6a38" stroke-width="10" fill="none" stroke-linecap="round" opacity=".7"/>
    <!-- closed eyes (sleeping) -->
    <path d="M64,118 Q72,114 78,118" stroke="#5a4020" stroke-width="2" fill="none"/>
    <!-- wing right (behind) -->
    <path d="M80,150 Q140,100 155,50 Q125,80 105,130Z" fill="#d0c8a8" opacity=".4"/>
  </g>
  <!-- MAIDEN 2 â€” upper right, weeping, looking down -->
  <g transform="translate(270,40)">
    <!-- wing left -->
    <path d="M80,160 Q10,100 5,30 Q38,75 65,140Z" fill="#c8c0a0" opacity=".65"/>
    <path d="M80,160 Q0,140 -5,80 Q30,120 65,150Z" fill="#b0a888" opacity=".5"/>
    <!-- wing right -->
    <path d="M110,160 Q180,100 185,30 Q152,75 125,140Z" fill="#c8c0a0" opacity=".65"/>
    <path d="M110,160 Q195,140 200,80 Q165,120 125,150Z" fill="#b0a888" opacity=".5"/>
    <!-- body/robe -->
    <path d="M75,155 Q60,170 55,260 L145,260 Q140,170 115,155Z" fill="#ccc4a2" opacity=".8"/>
    <!-- neck -->
    <rect x="83" y="135" width="24" height="22" rx="8" fill="#c0aa88" opacity=".8"/>
    <!-- HEAD â€” looking down, weeping -->
    <ellipse cx="95" cy="105" rx="30" ry="33" fill="#c0aa88" opacity=".9"/>
    <!-- hair -->
    <ellipse cx="95" cy="85" rx="33" ry="16" fill="#6a4820" opacity=".85"/>
    <path d="M68,90 Q50,120 45,200" stroke="#6a4820" stroke-width="16" fill="none" stroke-linecap="round" opacity=".8"/>
    <path d="M122,90 Q140,120 148,200" stroke="#7a5828" stroke-width="12" fill="none" stroke-linecap="round" opacity=".7"/>
    <!-- downcast brows -->
    <path d="M78,102 Q86,97 93,101" stroke="#5a3818" stroke-width="2" fill="none"/>
    <path d="M97,101 Q104,97 112,102" stroke="#5a3818" stroke-width="2" fill="none"/>
    <!-- sad eyes â€” slightly open -->
    <ellipse cx="86" cy="108" rx="6" ry="4" fill="#3a2010"/>
    <ellipse cx="104" cy="108" rx="6" ry="4" fill="#3a2010"/>
    <!-- TEARS -->
    <path d="M84,114 Q83,125 84,132" stroke="#8ab0d0" stroke-width="2" fill="none" opacity=".7"/>
    <path d="M102,115 Q101,126 102,134" stroke="#8ab0d0" stroke-width="2" fill="none" opacity=".7"/>
    <!-- tear drops -->
    <ellipse cx="84" cy="134" rx="2.5" ry="3.5" fill="#8ab0d0" opacity=".8"/>
    <ellipse cx="102" cy="136" rx="2.5" ry="3.5" fill="#8ab0d0" opacity=".8"/>
    <!-- halo glow -->
    <ellipse cx="95" cy="90" rx="45" ry="20" fill="#fffff0" opacity=".06" filter="url(#vhalo)"/>
  </g>
  <!-- HUMAN FIGURE below â€” small, looking up -->
  <g transform="translate(185,290)">
    <rect x="35" y="20" width="30" height="70" rx="8" fill="#1a2838"/>
    <ellipse cx="50" cy="12" rx="18" ry="20" fill="#2a1e14"/>
    <ellipse cx="50" cy="0" rx="14" ry="8" fill="#1a1208"/>
    <!-- eyes looking up -->
    <ellipse cx="44" cy="10" rx="4" ry="3" fill="#2a3a50"/>
    <ellipse cx="56" cy="10" rx="4" ry="3" fill="#2a3a50"/>
  </g>
  <!-- atmospheric light rays -->
  <g opacity=".06">
    <path d="M200,0 L150,400" stroke="#a0c0e0" stroke-width="30"/>
    <path d="M260,0 L220,400" stroke="#a0c0e0" stroke-width="20"/>
  </g>
  <!-- bottom gradient -->
  <linearGradient id="vbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#080e18"/></linearGradient>
  <rect y="240" width="480" height="160" fill="url(#vbot)"/>
  <radialGradient id="vvig" cx="50%" cy="50%" r="70%"><stop offset="55%" stop-color="transparent"/><stop offset="100%" stop-color="#080e18"/></radialGradient>
  <rect width="480" height="400" fill="url(#vvig)"/>
</svg>`,

  // â”€â”€ HMUICHUKCHURUDUNINU: beak-mouthed ogress over sleeping child â”€â”€
  hmuich: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400">
  <defs>
    <linearGradient id="hbg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#000000"/>
      <stop offset="50%" stop-color="#080608"/>
      <stop offset="100%" stop-color="#100a0c"/>
    </linearGradient>
    <radialGradient id="hface" cx="50%" cy="40%" r="55%">
      <stop offset="0%" stop-color="#8a8260"/>
      <stop offset="70%" stop-color="#6a6248"/>
      <stop offset="100%" stop-color="#4a4430"/>
    </radialGradient>
    <radialGradient id="hcandle" cx="50%" cy="0%" r="100%">
      <stop offset="0%" stop-color="#ffe090" stop-opacity=".6"/>
      <stop offset="100%" stop-color="transparent"/>
    </radialGradient>
    <filter id="hglow"><feGaussianBlur stdDeviation="5" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="hsoft"><feGaussianBlur stdDeviation="3"/></filter>
    <filter id="hfog"><feGaussianBlur stdDeviation="10"/></filter>
  </defs>
  <rect width="480" height="400" fill="url(#hbg)"/>
  <!-- very dim room atmosphere -->
  <ellipse cx="240" cy="250" rx="320" ry="200" fill="#180a08" filter="url(#hfog)" opacity=".5"/>
  <!-- SLEEPING CHILD â€” bottom centre -->
  <g transform="translate(120,290)">
    <!-- pillow -->
    <ellipse cx="120" cy="50" rx="130" ry="35" fill="#2a2020"/>
    <ellipse cx="120" cy="48" rx="120" ry="30" fill="#342828"/>
    <!-- blanket -->
    <path d="M0,55 Q120,45 240,55 L240,100 Q120,108 0,100Z" fill="#1a1618"/>
    <path d="M0,55 Q120,47 240,55 Q220,65 120,68 Q20,65 0,55Z" fill="#222020"/>
    <!-- child head on pillow -->
    <ellipse cx="120" cy="40" rx="38" ry="32" fill="#c0a888"/>
    <!-- hair -->
    <ellipse cx="120" cy="22" rx="38" ry="16" fill="#1a1008"/>
    <!-- closed eyes (sleeping) -->
    <path d="M105,38 Q113,34 121,38" stroke="#6a4820" stroke-width="2" fill="none"/>
    <path d="M119,38 Q127,34 135,38" stroke="#6a4820" stroke-width="2" fill="none"/>
    <!-- peaceful expression / slight smile -->
    <path d="M108,48 Q120,54 132,48" stroke="#8a6840" stroke-width="1.5" fill="none"/>
    <!-- eyelashes -->
    <g stroke="#4a3018" stroke-width="1">
      <line x1="107" y1="37" x2="105" y2="32"/><line x1="112" y1="35" x2="111" y2="30"/>
      <line x1="118" y1="35" x2="118" y2="30"/>
      <line x1="122" y1="35" x2="122" y2="30"/><line x1="128" y1="36" x2="129" y2="31"/>
      <line x1="133" y1="37" x2="135" y2="32"/>
    </g>
    <!-- OGRESS HANDS clamped on child -->
    <g fill="#5a5238" opacity=".85">
      <!-- left hand reaching down -->
      <path d="M30,30 Q20,45 18,60 Q28,58 35,45Z"/>
      <path d="M38,28 Q28,42 27,57 Q37,55 43,42Z"/>
      <path d="M46,27 Q38,40 38,55 Q47,53 51,40Z"/>
      <!-- long bony fingers -->
      <rect x="16" y="58" width="8" height="20" rx="4"/>
      <rect x="25" y="54" width="8" height="22" rx="4"/>
      <rect x="35" y="52" width="8" height="22" rx="4"/>
      <rect x="44" y="53" width="8" height="20" rx="4"/>
      <!-- right hand -->
      <path d="M194" y1="30" /><path d="M194,30 Q204,45 206,60 Q196,58 189,45Z"/>
      <path d="M186,28 Q196,42 197,57 Q187,55 181,42Z"/>
      <path d="M178,27 Q186,40 186,55 Q177,53 173,40Z"/>
      <rect x="200" y="58" width="8" height="20" rx="4"/>
      <rect x="190" y="54" width="8" height="22" rx="4"/>
      <rect x="179" y="52" width="8" height="22" rx="4"/>
      <rect x="169" y="53" width="8" height="20" rx="4"/>
    </g>
  </g>
  <!-- OGRESS â€” looming above, fills upper 2/3 -->
  <g transform="translate(80,-10)">
    <!-- wispy grey hair â€” tendrils -->
    <g fill="#5a5848" opacity=".7">
      <path d="M60,60 Q30,20 20,0 Q45,25 58,55Z"/>
      <path d="M75,50 Q55,10 60,0 Q72,20 73,45Z"/>
      <path d="M95,45 Q88,5 100,0 Q97,18 93,42Z"/>
      <path d="M200,45 Q208,5 200,0 Q203,18 202,42Z"/>
      <path d="M218,50 Q238,10 235,0 Q222,20 220,46Z"/>
      <path d="M230,58 Q258,22 265,5 Q240,28 228,55Z"/>
      <path d="M245,68 Q278,38 285,20 Q255,45 242,66Z"/>
      <path d="M50,70 Q18,48 5,30 Q32,52 52,72Z"/>
    </g>
    <!-- MASSIVE HEAD -->
    <ellipse cx="155" cy="130" rx="110" ry="120" fill="url(#hface)"/>
    <!-- skin texture â€” deep wrinkles -->
    <g stroke="#4a4430" stroke-width="2" fill="none" opacity=".6">
      <path d="M90,100 Q110,88 130,100"/>
      <path d="M80,130 Q100,118 120,130"/>
      <path d="M180,100 Q200,88 220,100"/>
      <path d="M175,128 Q200,116 225,128"/>
      <path d="M100,160 Q155,148 210,160"/>
      <path d="M95,175 Q155,165 215,175"/>
      <!-- forehead furrows -->
      <path d="M110,80 Q155,68 200,80"/>
      <path d="M115,92 Q155,82 195,92"/>
    </g>
    <!-- deep set sunken eyes -->
    <ellipse cx="115" cy="115" rx="22" ry="18" fill="#2a2820" opacity=".9"/>
    <ellipse cx="195" cy="115" rx="22" ry="18" fill="#2a2820" opacity=".9"/>
    <!-- eyeballs â€” pale, menacing -->
    <ellipse cx="115" cy="115" rx="14" ry="12" fill="#c8c0a0"/>
    <ellipse cx="195" cy="115" rx="14" ry="12" fill="#c8c0a0"/>
    <!-- irises â€” pale grey -->
    <ellipse cx="115" cy="115" rx="8" ry="9" fill="#787060"/>
    <ellipse cx="195" cy="115" rx="8" ry="9" fill="#787060"/>
    <!-- pupils â€” dilated -->
    <ellipse cx="115" cy="115" rx="5" ry="6" fill="#000"/>
    <ellipse cx="195" cy="115" rx="5" ry="6" fill="#000"/>
    <!-- small glint -->
    <ellipse cx="118" cy="112" rx="2.5" ry="2" fill="#fff" opacity=".5"/>
    <ellipse cx="198" cy="112" rx="2.5" ry="2" fill="#fff" opacity=".5"/>
    <!-- heavy brow ridge -->
    <path d="M85,98 Q115,82 145,95" stroke="#3a3828" stroke-width="8" fill="none" stroke-linecap="round"/>
    <path d="M162,95 Q192,82 225,98" stroke="#3a3828" stroke-width="8" fill="none" stroke-linecap="round"/>
    <!-- THE BEAK â€” long pointed, downward -->
    <path d="M130,155 Q155,155 180,155 Q170,195 155,230 Q140,195 130,155Z" fill="#4a4018"/>
    <path d="M135,155 Q155,157 175,155 Q165,185 155,215 Q145,185 135,155Z" fill="#5a5020"/>
    <!-- beak edge highlight -->
    <path d="M155,155 L155,228" stroke="#6a6028" stroke-width="1.5" fill="none" opacity=".6"/>
    <!-- nostrils on beak -->
    <ellipse cx="145" cy="165" rx="5" ry="3" fill="#3a3210" opacity=".8"/>
    <ellipse cx="165" cy="165" rx="5" ry="3" fill="#3a3210" opacity=".8"/>
    <!-- body â€” hunched dark robes -->
    <path d="M60,230 Q20,260 10,380 L300,380 Q285,260 248,230 Z" fill="#1a1615" opacity=".9"/>
    <!-- robe texture -->
    <path d="M80,240 Q60,290 50,370" stroke="#100e0c" stroke-width="6" fill="none" opacity=".5"/>
    <path d="M155,235 Q155,295 155,370" stroke="#100e0c" stroke-width="6" fill="none" opacity=".5"/>
    <path d="M225,240 Q245,290 252,370" stroke="#100e0c" stroke-width="6" fill="none" opacity=".5"/>
  </g>
  <!-- candle flicker light from below -->
  <ellipse cx="240" cy="350" rx="180" ry="60" fill="url(#hcandle)" filter="url(#hsoft)"/>
  <!-- darkness vignette â€” very strong -->
  <radialGradient id="hvig" cx="50%" cy="50%" r="65%"><stop offset="40%" stop-color="transparent"/><stop offset="100%" stop-color="#000"/></radialGradient>
  <rect width="480" height="400" fill="url(#hvig)"/>
  <!-- bottom gradient -->
  <linearGradient id="hbot" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="transparent"/><stop offset="100%" stop-color="#100a0c"/></linearGradient>
  <rect y="250" width="480" height="150" fill="url(#hbot)"/>
</svg>`
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CREATURE DATABASE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CREATURES = [
  {
    id: 'keimi',
    name: 'Keimi',
    origin: 'Mizo / Northeast Indian Folklore',
    sigil: 'ğŸ¯',
    epithet: 'The Tiger Who Walks as Human',
    type: 'Weretiger Shapeshifter',
    domain: 'Forest Paths at Night',
    danger: 'Very High',
    lore: 'By day a quiet villager. By night a tiger hunting in the wild. Keimi roam the forest paths with eyes that glow amber in the dark. If you meet a stranger on the trail who avoids mirrors and casts no shadow â€” run. You have already been seen.',
    manifestation: 'Something in the way you hold stillness before you speak betrays the predator beneath the person. The Keimi recognises this quality â€” the calm before the pounce, the eye that sees movement before the mind has processed it. Those around you sometimes feel watched, even when you are smiling.',
    weaknesses: ['A mirror held to their face at midnight reveals the true form', 'Iron shavings scattered across the forest path they walk', 'The name of their human birth spoken aloud three times', 'Salt mixed with tiger lily petals burned at the threshold'],
    svgKey: 'keimi'
  },
  {
    id: 'phung',
    name: 'Phung',
    origin: 'Mizo Folklore',
    sigil: 'â›°ï¸',
    epithet: 'Ogre of the High Ridges',
    type: 'Mountain Ogre',
    domain: 'High Mountain Ridges',
    danger: 'Extreme',
    lore: 'Wild hair. Burnt skin. Eyes like dying embers. The Phung are massive ogres that roam the high ridges where hunters disappear. Their screams echo down into valleys long after the blood has faded. You will not hear a Phung coming. You will only feel the drop in temperature â€” and then nothing.',
    manifestation: 'There is a roughness in your bearing that the Phung recognises as its own â€” not cruelty, but an elemental force that others give way to without understanding why. Mountains have a kind of presence. So do you. The silence around you carries the same weight as the silence before something very large moves through forest.',
    weaknesses: ['Fire made from seven different types of wood burning together', 'Chanting the names of the valley ancestors in unbroken sequence', 'Weapons made of bone from animals that died of old age', 'Never ascending a ridge alone after the sun has touched the peaks'],
    svgKey: 'phung'
  },
  {
    id: 'lasi',
    name: 'Lasi',
    origin: 'Mizo / Northeast Indian Folklore',
    sigil: 'ğŸŒ¿',
    epithet: 'The Backward Beauty of the Forest',
    type: 'Forest Siren â€” Half Fairy, Half Demon',
    domain: 'Deep Forest & Dusk Clearings',
    danger: 'High',
    lore: 'She dances at dusk. Smiles sweetly. But look at her feet â€” they are twisted backwards. Half fairy, half demon, the Lasi sings at the edge of the forest where the light fails. You follow her song. You never return. The forest keeps what the forest takes.',
    manifestation: 'There is a duality in your appearance that unsettles â€” a sweetness that sits alongside something unknowable. The Lasi sees her own contradiction reflected in you: beauty worn above something that does not quite fit the world it inhabits. People are drawn to you without knowing the direction they are walking.',
    weaknesses: ['Never following music you cannot identify the source of', 'Reciting the names of everyone you love before entering forest', 'Turning your shoes backwards at the tree line', 'The call of a particular bird known only to your village elders'],
    svgKey: 'lasi'
  },
  {
    id: 'rulpui',
    name: 'Rulpui',
    origin: 'Mizo Folklore',
    sigil: 'ğŸ‰',
    epithet: 'The Feathered Serpent of the Deep Lake',
    type: 'Lake Deity â€” Divine Serpent',
    domain: 'Sacred Lakes & Storms',
    danger: 'Very High',
    lore: 'A colossal feathered serpent that lives in lakes, bringing rain â€” and ruin. Said to coil around villages that forget their ancestral rituals. Its feathers shimmer teal and crimson just before the storm breaks. When you see the surface of the lake disturb without wind, it is already watching you from below.',
    manifestation: 'The Rulpui is drawn to those who carry cycles within them â€” patterns of rising and flooding and withdrawing that others cannot predict. Your presence changes the atmosphere of a room the way the serpent changes the pressure of the sky before rain. You have the quality of something ancient and elemental disguised in everyday shape.',
    weaknesses: ['Performing the ancestral lake ritual without interruption at full moon', 'Never throwing waste or impurity into any still water', 'Offering woven cloth and rice wine at the water\'s edge at dawn', 'Remembering and reciting the lineage of the village founding elders'],
    svgKey: 'rulpui'
  },
  {
    id: 'vanchungnula',
    name: 'Van Chung Nula',
    origin: 'Mizo Folklore',
    sigil: 'ğŸª½',
    epithet: 'Sky Maiden Who Curses Betrayers',
    type: 'Celestial Being â€” Fallen Angel',
    domain: 'High Skies & Storms',
    danger: 'High',
    lore: 'Angelic beings with flowing hair and great white wings, the Van Chung Nula sometimes fall in love with humans. But if they are betrayed, they vanish â€” and in vanishing, curse the generations that follow. Heaven\'s tears fall in vengeance too. The rain after betrayal is never just rain.',
    manifestation: 'There is something celestial in your stillness â€” a quality of watching from above, of feeling things more completely than those around you. The Van Chung Nula would recognise in you the particular vulnerability of a being who has descended too close to the human world. Your loyalty, when given, is total. And so is your absence when it is broken.',
    weaknesses: ['Absolute fidelity â€” the curse cannot hold where no betrayal exists', 'Weaving an offering cloth with threads from every family member', 'Speaking the sky maiden\'s name into the wind at sunrise', 'Planting a tree for every promise you have broken and tending it'],
    svgKey: 'vanchungnula'
  },
  {
    id: 'hmuich',
    name: 'Hmuichukchuruduninu',
    origin: 'Mizo Folklore',
    sigil: 'ğŸ¦…',
    epithet: 'Brain-Eater Ogress of the Dark',
    type: 'Night Ogress',
    domain: 'Sleeping Chambers at Midnight',
    danger: 'Extreme',
    lore: 'With a beak instead of a mouth, she seeks children in the dark. She does not scream. She does not howl. She simply whispers your name â€” and then she feeds. The Hmuichukchuruduninu has no need for doors or windows. She enters through the gaps between waking and sleep.',
    manifestation: 'The Hmuichukchuruduninu is drawn to those who know how to be terrifying without raising their voice. There is something in the precision of your presence â€” the way you do not need to announce yourself â€” that mirrors her most chilling quality. Others grow uneasy without knowing why. You have never needed to shout.',
    weaknesses: ['Never speaking a sleeping child\'s name aloud after nightfall', 'A ring of ash from the hearth placed around every sleeping mat', 'Keeping a lit flame â€” even a small one â€” through every night', 'The elder\'s protective chant sung before all household members sleep'],
    svgKey: 'hmuich'
  }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let uploadedImage = null, uploadedB64 = null, currentCreature = null, deferredPrompt = null;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PARTICLES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function(){
  const c = document.getElementById('particles');
  for(let i=0;i<15;i++){
    const p=document.createElement('div'); p.className='particle';
    const s=1+Math.random()*3;
    p.style.cssText=`left:${Math.random()*100}%;--dx:${(Math.random()-.5)*100}px;animation-duration:${8+Math.random()*12}s;animation-delay:${Math.random()*10}s;width:${s}px;height:${s}px;`;
    c.appendChild(p);
  }
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FILE HANDLING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const uploadZone = document.getElementById('uploadZone');
document.getElementById('fileInput').addEventListener('change', e=>{if(e.target.files[0])processFile(e.target.files[0]);});
uploadZone.addEventListener('dragover',e=>{e.preventDefault();uploadZone.classList.add('drag');});
uploadZone.addEventListener('dragleave',()=>uploadZone.classList.remove('drag'));
uploadZone.addEventListener('drop',e=>{
  e.preventDefault();uploadZone.classList.remove('drag');
  const f=e.dataTransfer.files[0];if(f&&f.type.startsWith('image/'))processFile(f);
});

function processFile(file){
  const reader=new FileReader();
  reader.onload=e=>{
    const img=new Image();
    img.onload=()=>{
      const canvas=document.createElement('canvas');
      const MAX=768; let w=img.width,h=img.height;
      if(w>MAX||h>MAX){if(w>h){h=Math.round(h*MAX/w);w=MAX;}else{w=Math.round(w*MAX/h);h=MAX;}}
      canvas.width=w;canvas.height=h;
      canvas.getContext('2d').drawImage(img,0,0,w,h);
      uploadedImage=canvas.toDataURL('image/jpeg',0.85);
      uploadedB64=uploadedImage.split(',')[1];
      document.getElementById('previewImg').src=uploadedImage;
      show('preview-section');hide('result-section');hide('loading-section');
      uploadZone.style.display='none';
      document.getElementById('preview-section').scrollIntoView({behavior:'smooth'});
      gaEvent('photo_uploaded');
    };
    img.src=e.target.result;
  };
  reader.readAsDataURL(file);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SUMMON
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function summonCreature(){
  hide('preview-section');hide('result-section');show('loading-section');
  document.getElementById('loading-section').scrollIntoView({behavior:'smooth'});
  gaEvent('ritual_summoned');

  setStep(1);
  let creature;
  try {
    creature = await callClaude(uploadedB64);
    gaEvent('ai_reading_success', { creature_name: creature.name });
  }
  catch(err){
    console.warn('API err, fallback:',err);
    await sleep(1000);
    creature=fallback();
    gaEvent('ai_reading_fallback');
  }

  setStep(2); await sleep(500);
  setStep(3);
  currentCreature=creature;
  renderCard(creature);
  await sleep(400);
  setStep(4); await sleep(300);

  hide('loading-section');show('result-section');
  document.getElementById('result-section').scrollIntoView({behavior:'smooth',block:'start'});
  gaEvent('creature_revealed', { creature_name: creature.name, creature_danger: creature.danger });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CLAUDE API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function callClaude(b64){
  const creatureList = CREATURES.map(c=>c.name).join(', ');
  const res = await fetch('https://api.anthropic.com/v1/messages',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      model:'claude-sonnet-4-20250514',
      max_tokens:600,
      system:`You are a Mizo folklore seer who identifies which of the six sacred horror creatures a person embodies by studying their face. You respond ONLY with a raw JSON object â€” no markdown, no backticks.`,
      messages:[{role:'user',content:[
        {type:'image',source:{type:'base64',media_type:'image/jpeg',data:b64}},
        {type:'text',text:`Study this person's face â€” their eyes, expression, jawline, energy, and presence. Which of these six Mizo folklore creatures do they most embody? Choose EXACTLY one: ${creatureList}.

Return ONLY this JSON:
{
  "name": "exact creature name from the list",
  "manifestation": "3 sentences connecting THIS person's specific visible features to the chosen creature. Be personal, specific, observational â€” reference their actual eyes, expression, jawline, or aura."
}`}
      ]}]
    })
  });
  if(!res.ok) throw new Error('HTTP '+res.status);
  const d=await res.json();
  const raw=d.content.map(b=>b.text||'').join('').replace(/```json|```/g,'').trim();
  const parsed=JSON.parse(raw);
  // match to our database
  const found=CREATURES.find(c=>c.name.toLowerCase()===parsed.name.toLowerCase()) || CREATURES[0];
  return {...found, manifestation: parsed.manifestation || found.manifestation};
}

function fallback(){
  const i=uploadedImage?uploadedImage.length%CREATURES.length:Math.floor(Math.random()*CREATURES.length);
  return CREATURES[i];
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderCard(c){
  // SVG panel
  document.getElementById('creatureSVGWrap').innerHTML = SVGs[c.svgKey] || SVGs['keimi'];
  document.getElementById('panelName').textContent = c.name;
  document.getElementById('panelOrigin').textContent = c.origin.toUpperCase();

  // card
  document.getElementById('cSigil').textContent=c.sigil;
  document.getElementById('cOriginLbl').textContent=c.origin.toUpperCase();
  document.getElementById('cName').textContent=c.name;
  document.getElementById('cEpithet').textContent=`"${c.epithet}"`;

  const sr=document.getElementById('statRow');sr.innerHTML='';
  [['Type',c.type],['Domain',c.domain],['Danger',c.danger]].forEach(([l,v])=>{
    const b=document.createElement('span');b.className='badge';b.textContent=`${l}: ${v}`;sr.appendChild(b);
  });

  document.getElementById('loreTxt').textContent=c.lore;
  document.getElementById('manifestTxt').textContent=c.manifestation;

  const wl=document.getElementById('wList');wl.innerHTML='';
  (c.weaknesses||[]).forEach(w=>{
    const d=document.createElement('div');d.className='w-item';d.textContent=w;wl.appendChild(d);
  });

  document.getElementById('previewImg').classList.add('haunted');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setStep(n){for(let i=1;i<=4;i++)document.getElementById('s'+i).className='step'+(i<n?' done':i===n?' active':'');}
function show(id){document.getElementById(id).style.display='block';}
function hide(id){document.getElementById(id).style.display='none';}
function sleep(ms){return new Promise(r=>setTimeout(r,ms));}

async function shareResult(){
  if(!currentCreature)return;
  gaEvent('result_shared', { creature_name: currentCreature.name });
  const text=`ğŸ‘ I am ${currentCreature.name} â€” "${currentCreature.epithet}"\n\n${currentCreature.lore.slice(0,130)}â€¦\n\nâœ¦ Find your Bhoota âœ BhootaGappa`;
  if(navigator.share){try{await navigator.share({title:`I am ${currentCreature.name}`,text});}catch(e){}}
  else{navigator.clipboard.writeText(text).then(()=>showToast('COPIED TO CLIPBOARD'));}
}

function showToast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),2500);
}

function resetApp(){
  gaEvent('play_again');
  uploadedImage=null;uploadedB64=null;currentCreature=null;
  document.getElementById('fileInput').value='';
  const pi=document.getElementById('previewImg');pi.src='';pi.classList.remove('haunted');
  document.getElementById('creatureSVGWrap').innerHTML='';
  for(let i=1;i<=4;i++)document.getElementById('s'+i).className='step';
  hide('preview-section');hide('loading-section');hide('result-section');
  uploadZone.style.display='block';
  uploadZone.scrollIntoView({behavior:'smooth'});
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PWA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('beforeinstallprompt',e=>{
  e.preventDefault();deferredPrompt=e;
  setTimeout(()=>document.getElementById('installBanner').classList.add('visible'),3000);
});
function installApp(){if(deferredPrompt){deferredPrompt.prompt();deferredPrompt.userChoice.then((choice)=>{gaEvent('pwa_installed', { outcome: choice.outcome });deferredPrompt=null;dismissInstall();});}}
function dismissInstall(){document.getElementById('installBanner').classList.remove('visible');}
if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!navigator.standalone)
  setTimeout(()=>document.getElementById('iosInst').classList.add('visible'),8000);
if('serviceWorker'in navigator)window.addEventListener('load',()=>navigator.serviceWorker.register('sw.js').catch(()=>{}));
</script>
</body>
</html>
